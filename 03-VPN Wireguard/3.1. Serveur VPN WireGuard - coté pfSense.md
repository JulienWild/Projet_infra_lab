
>Si tu fais parti de la Wild Code School (collaborateur-trice ou √©l√®ve), tu peux te r√©f√©rer √† la qu√™te ci-dessous pour en apprendre plus sur le fonctionnement du VPN WireGuard :
>https://odyssey.wildcodeschool.com/quests/3076

```spacer small
```

‚ú® Sur ton serveur pfSense, installe le paquet WireGuard 

![[Pasted Image 20241205104334_661.png]]

![[Pasted Image 20241205110920_721.png]]

```spacer small
```


‚ú® Rends toi dans le menu `VPN/WireGuard/Tunnels` et configure les √©l√©ments du serveur WireGuard :

![[Pasted Image 20241205111020_725.png]]

![[Pasted Image 20241205111746_758.png]]

```spacer small
```

```alert info
Tu peux dores et d√©j√† noter ces diff√©rents √©l√©ments, qui te serviront dans la phase suivante, dans laquelle tu vas utiliser un script pour automatiser toute la phase VPN cot√© client.
Tu les renseigneras dans un fichier de variable.
* `Public Key` : correspond √† la variable **`SERVER_PUBLIC_KEY`**
* `Interface Addresses` : correspond √† la variable **`SERVER_TUNNEL_IP`**
* `Mask` : correspond √† la variable **`TUNNEL_MASK`**
```


‚ú® Rends toi dans les `Param√®tres` et active le service WireGuard :

![[Pasted Image 20241205112115_787.png]]

```spacer small
```

‚ú® Cr√©e une r√®gle de s√©curit√© sur l'interface WAN de ton firewall, afin d'autoriser le trafic UDP avec le port 51820 (le port de WireGuard) :

![[Pasted Image 20241205112700_804.png]]

```spacer small
```


‚ú® Cr√©e une r√®gle de s√©curit√© sur l'interface WireGuard de ton firewall, afin d'autoriser tout le trafic IPv4 :

![[Pasted Image 20241205112430_795.png]]

```spacer small
```


```alert success
üëç Ton serveur WireGuard est configur√© et op√©rationnel. 

Il te faudra n√©anmoins renseigner les diff√©rents pair VPN, c'est √† dire les clients VPN, dans le menu `Peers` de ta configuration WireGuard, une fois que tu les auras configur√©s.

Passe √† la suite, nous reviendrons sur cette proc√©dure dans la partie **3.2. Client VPN WireGuard - Automatisation du processus**
```





